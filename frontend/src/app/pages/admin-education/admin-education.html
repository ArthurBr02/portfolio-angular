<div class="admin-page">
    <app-admin-page-header [title]="'admin.educationPage.manageEducation' | translate" [buttonText]="'admin.educationPage.addNewEducation' | translate" [showForm]="showForm()"
        (buttonClick)="toggleForm()">
    </app-admin-page-header>

    @if (showForm()) {
    <div class="form-card glass-card">
        <h3>{{ 'admin.educationPage.addNewEducation' | translate }}</h3>
        <form [formGroup]="educationForm" (ngSubmit)="onSubmit()">
            <app-form-input [label]="'admin.educationPage.institution' | translate" formControlName="institution" [required]="true"
                [placeholder]="'admin.placeholders.institution' | translate">
            </app-form-input>

            <app-form-input [label]="'admin.educationPage.degree' | translate" formControlName="degree" [required]="true"
                [placeholder]="'admin.placeholders.degree' | translate">
            </app-form-input>

            <div class="form-row">
                <app-form-input [label]="'admin.educationPage.startDate' | translate" formControlName="startDate" [required]="true"
                    [placeholder]="'admin.placeholders.year' | translate">
                </app-form-input>

                <app-form-input [label]="'admin.educationPage.endDate' | translate" formControlName="endDate" [placeholder]="'admin.placeholders.year' | translate">
                </app-form-input>
            </div>

            <app-form-textarea [label]="'admin.educationPage.description' | translate" formControlName="description" [required]="true" [rows]="3"
                [placeholder]="'admin.placeholders.studiesDesc' | translate">
            </app-form-textarea>

            <button type="submit" class="btn btn-primary" [disabled]="educationForm.invalid || isSubmitting()">
                {{ isSubmitting() ? ('admin.educationPage.savingEducation' | translate) : ('admin.educationPage.saveEducation' | translate) }}
            </button>
        </form>
    </div>
    }

    <div class="education-list">
        @for (edu of education(); track edu.id) {
        <div class="edu-item glass-card">
            <div class="edu-info">
                <h4>{{ edu.degree }} <span class="institution">{{ 'admin.educationPage.at' | translate }} {{ edu.institution }}</span></h4>
                <p class="period">{{ edu.period }}</p>
                <p class="description">{{ edu.description }}</p>
            </div>
            <button type="button" class="btn-delete" (click)="deleteEducation(edu.id, $event)">üóëÔ∏è</button>
        </div>
        }
    </div>

    <app-delete-confirmation-modal [isOpen]="showDeleteModal()" [title]="'admin.educationPage.deleteEducation' | translate"
        [message]="'admin.educationPage.confirmDelete' | translate"
        (confirm)="confirmDelete()" (cancel)="closeDeleteModal()">
    </app-delete-confirmation-modal>
</div>